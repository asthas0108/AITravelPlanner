import {
  GoogleGenerativeAI,
} from "@google/generative-ai";



const apiKey = import.meta.env.VITE_GEMINI_API_KEY;

const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
  systemInstruction: "generate travel plan for location : mumbai for 3 days for couple with a cheap budget. give me hotels options list with hotel name, address price, hotel image url, geo coordinates, rating, descriptions and suggest itinerarry with placename, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 3 days with each day plan with best time to visit in json format.\n",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


export  const chatSession = model.startChat({
    generationConfig,
    history: [
      // {
      //   role: "user",
      //   parts: [
      //     {text: "\n"},
      //   ],
      // },
      // {
      //   role: "model",
      //   parts: [
      //     {text: "{\"travelPlan\": {\"location\": \"Mumbai\", \"duration\": \"3 Days\", \"budget\": \"Cheap\", \"travelers\": \"Couple\", \"hotels\": [{\"hotelName\": \"Hotel Kohinoor\", \"address\": \"20, J.B. Nagar, Andheri West, Mumbai, Maharashtra 400053, India\", \"price\": \"₹1,200-₹2,500\", \"hotelImageUrl\": \"https://example.com/hotel_kohinoor.jpg\", \"geoCoordinates\": {\"latitude\": \"19.1017\", \"longitude\": \"72.8549\"}, \"rating\": \"3.8\", \"description\": \"Budget-friendly hotel with basic amenities.\"}, {\"hotelName\": \"Hotel Rajhans\", \"address\": \"Andheri West, Mumbai, Maharashtra 400053, India\", \"price\": \"₹1,000-₹2,000\", \"hotelImageUrl\": \"https://example.com/hotel_rajhans.jpg\", \"geoCoordinates\": {\"latitude\": \"19.1105\", \"longitude\": \"72.8441\"}, \"rating\": \"3.5\", \"description\": \"Clean and comfortable rooms at affordable prices.\"}, {\"hotelName\": \"Treebo Trend\", \"address\": \"Various locations in Mumbai\", \"price\": \"₹1,500-₹3,000\", \"hotelImageUrl\": \"https://example.com/treebo_trend.jpg\", \"geoCoordinates\": \"multiple locations\", \"rating\": \"4.0\", \"description\": \"A reliable budget hotel chain with multiple locations in Mumbai.\"}], \"itinerary\": [{\"day\": \"Day 1\", \"plan\": [{\"placeName\": \"Gateway of India\", \"placeDetails\": \"Iconic arch monument.\", \"placeImageUrl\": \"https://example.com/gateway_of_india.jpg\", \"geoCoordinates\": {\"latitude\": \"18.9220\", \"longitude\": \"72.8347\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"30 mins\"}, {\"placeName\": \"Chhatrapati Shivaji Maharaj Terminus\", \"placeDetails\": \"UNESCO World Heritage Site railway station.\", \"placeImageUrl\": \"https://example.com/chhatrapati_shivaji_terminus.jpg\", \"geoCoordinates\": {\"latitude\": \"18.9425\", \"longitude\": \"72.8336\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"15 mins\"}, {\"placeName\": \"Marine Drive\", \"placeDetails\": \"Scenic promenade.\", \"placeImageUrl\": \"https://example.com/marine_drive.jpg\", \"geoCoordinates\": {\"latitude\": \"18.9301\", \"longitude\": \"72.8328\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"15 mins\"}]}, {\"day\": \"Day 2\", \"plan\": [{\"placeName\": \"Dhobi Ghat\", \"placeDetails\": \"Open-air laundromat.\", \"placeImageUrl\": \"https://example.com/dhobi_ghat.jpg\", \"geoCoordinates\": {\"latitude\": \"18.9378\", \"longitude\": \"72.8253\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"30 mins\"}, {\"placeName\": \"Sanjay Gandhi National Park\", \"placeDetails\": \"Urban national park with nature trails.\", \"placeImageUrl\": \"https://example.com/sanjay_gandhi_national_park.jpg\", \"geoCoordinates\": {\"latitude\": \"19.2177\", \"longitude\": \"72.9486\"}, \"ticketPricing\": \"₹50 per person\", \"travelTime\": \"60 mins\"}, {\"placeName\": \"Kanheri Caves\", \"placeDetails\": \"Ancient cave temples inside the National park.\", \"placeImageUrl\": \"https://example.com/kanheri_caves.jpg\", \"geoCoordinates\": {\"latitude\": \"19.2212\", \"longitude\": \"72.9290\"}, \"ticketPricing\": \"Included in park entry\", \"travelTime\": \"30 mins\"}]}, {\"day\": \"Day 3\", \"plan\": [{\"placeName\": \"Bandra Worli Sea Link\", \"placeDetails\": \"Cable-stayed bridge with stunning views.\", \"placeImageUrl\": \"https://example.com/bandra_worli_sea_link.jpg\", \"geoCoordinates\": {\"latitude\": \"19.0400\", \"longitude\": \"72.8100\"}, \"ticketPricing\": \"Free viewing\", \"travelTime\": \"30 mins\"}, {\"placeName\": \"Juhu Beach\", \"placeDetails\": \"Popular beach with street food stalls.\", \"placeImageUrl\": \"https://example.com/juhu_beach.jpg\", \"geoCoordinates\": {\"latitude\": \"19.1000\", \"longitude\": \"72.8200\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"15 mins\"}, {\"placeName\": \"Shree Siddhivinayak Temple\", \"placeDetails\": \"Famous Hindu temple.\", \"placeImageUrl\": \"https://example.com/shree_siddhivinayak_temple.jpg\", \"geoCoordinates\": {\"latitude\": \"19.0760\", \"longitude\": \"72.8298\"}, \"ticketPricing\": \"Free entry\", \"travelTime\": \"30 mins\"}]}]}}"},
      //   ],
      // },
      {
        role: "user",
        parts: [
          {text: "generate travel plan for location : mumbai for 3 days for couple with a cheap budget. give me hotels options list with hotel name, address price, hotel image url, geo coordinates, rating, descriptions and suggest itinerarry with placename, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 3 days with each day plan with best time to visit in json format.\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Mumbai\",\n    \"duration\": \"3 Days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\",\n    \"hotels\": [\n      {\n        \"hotelName\": \"Hotel Samrat\",\n        \"address\": \"Juhu Beach, Mumbai\",\n        \"price\": \"₹1000-₹2000\",\n        \"hotelImageUrl\": \"https://example.com/hotel_samrat.jpg\", \n        \"geoCoordinates\": {\n          \"latitude\": 19.1028,\n          \"longitude\": 72.8294\n        },\n        \"rating\": \"3.5\",\n        \"description\": \"Budget-friendly hotel near Juhu Beach. Basic amenities.\"\n      },\n      {\n        \"hotelName\": \"Hotel Raddison Blu\",\n        \"address\": \"Andheri West, Mumbai\",\n        \"price\": \"₹1500-₹3000\",\n        \"hotelImageUrl\": \"https://example.com/hotel_raddison.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 19.1000,\n          \"longitude\": 72.8500\n        },\n        \"rating\": \"4.0\",\n        \"description\": \"Mid-range hotel in Andheri, good connectivity.\"\n      },\n      {\n        \"hotelName\": \"FabHotel Prime\",\n        \"address\": \"Multiple locations in Mumbai\",\n        \"price\": \"₹800-₹1800\",\n        \"hotelImageUrl\": \"https://example.com/fabhotel.jpg\",\n        \"geoCoordinates\": \"Multiple locations\",\n        \"rating\": \"3.8\",\n        \"description\": \"Budget-friendly hotel chain with multiple locations across Mumbai. Look for deals online.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1: South Mumbai Exploration\",\n        \"plan\": [\n          {\n            \"placeName\": \"Gateway of India\",\n            \"placeDetails\": \"Iconic arch monument.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Gateway_of_India.jpg/1280px-Gateway_of_India.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9220,\n              \"longitude\": 72.8347\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Variable, depending on your hotel location (approx. 1-2 hrs by local train/taxi)\"\n          },\n          {\n            \"placeName\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n            \"placeDetails\": \"UNESCO World Heritage Site railway station.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Chhatrapati_Shivaji_Terminus_Mumbai.jpg/1280px-Chhatrapati_Shivaji_Terminus_Mumbai.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9425,\n              \"longitude\": 72.8336\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"15-30 mins walk from Gateway\"\n          },\n          {\n            \"placeName\": \"Marine Drive\",\n            \"placeDetails\": \"Scenic promenade, best at sunset.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Marine_Drive_Mumbai_India.jpg/1280px-Marine_Drive_Mumbai_India.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9301,\n              \"longitude\": 72.8328\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"30 mins walk/taxi from CST\"\n          }\n        ],\n        \"bestTime\": \"Morning to evening\"\n      },\n      {\n        \"day\": \"Day 2: North Mumbai & Beaches\",\n        \"plan\": [\n          {\n            \"placeName\": \"Juhu Beach\",\n            \"placeDetails\": \"Popular beach with street food.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Juhu_Beach_Mumbai.jpg/1280px-Juhu_Beach_Mumbai.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 19.1000,\n              \"longitude\": 72.8200\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Variable depending on your hotel location (approx 1 hr by local train/taxi)\"\n          },\n          {\n            \"placeName\": \"Bandra-Worli Sea Link\",\n            \"placeDetails\": \"Impressive cable-stayed bridge (view from outside).\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/Bandra-Worli_Sea_Link_from_Worli.jpg/1280px-Bandra-Worli_Sea_Link_from_Worli.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 19.0400,\n              \"longitude\": 72.8100\n            },\n            \"ticketPricing\": \"Free (viewing)\",\n            \"travelTime\": \"Taxi/Local Train from Juhu beach (approx 30-45 mins)\"\n          }\n        ],\n        \"bestTime\": \"Late afternoon/evening for sunset views\"\n      },\n      {\n        \"day\": \"Day 3: Culture & Local Life\",\n        \"plan\": [\n          {\n            \"placeName\": \"Dhobi Ghat\",\n            \"placeDetails\": \"Open-air laundromat, unique experience.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Dhobi_Ghat_Mumbai.jpg/1280px-Dhobi_Ghat_Mumbai.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 18.9378,\n              \"longitude\": 72.8253\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"Variable, depending on your location (approx. 1hr by train/taxi)\"\n          },\n          {\n            \"placeName\": \"Crawford Market\",\n            \"placeDetails\": \"Bustling market, experience local life.\",\n            \"placeImageUrl\": \"https://example.com/crawford_market.jpg\",  // Replace with actual image URL\n            \"geoCoordinates\": {\n              \"latitude\": 18.9470,\n              \"longitude\": 72.8291\n            },\n            \"ticketPricing\": \"Free\",\n            \"travelTime\": \"30 mins from Dhobi Ghat (taxi/local train)\"\n          }\n          \n        ],\n        \"bestTime\": \"Morning to early afternoon\"\n      }\n    ]\n  }\n}\n```\n\n**Note:**  Replace the `example.com` image URLs with actual image URLs from a reputable source like Wikimedia Commons or Flickr.  Travel times are estimates and can vary depending on traffic and mode of transportation.  Local trains are a cheap and efficient way to get around Mumbai. Consider purchasing a daily or multi-day pass.  Always check the latest ticket prices and opening hours before your visit.\n"},
        ],
      },
    ],
  });

